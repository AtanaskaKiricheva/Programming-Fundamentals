using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.RegularExpressions;

public class Example
{
    public static void Main()
    {
        int n = int.Parse(Console.ReadLine());
        var Legions = new Dictionary<string, Dictionary<string,int>>();
        var activities = new Dictionary<string, int>();

        var innerDict = new Dictionary<string, int>(); 

        for (int i = 0; i < n; i++)
        {
            string[] lines = Console.ReadLine().Split('=',' ','-','>',':');
            int lastActivity = int.Parse(lines[0]); //dict 2 value
            string legionName = lines[1];           //dict 1/2 key
            string soldierType = lines[2];          //inner dict key
            int soldierCount = int.Parse(lines[3]); //inner dict value

            if (!Legions.ContainsKey(legionName))
            {
                innerDict.Add(soldierType, soldierCount); //inner
                Legions.Add(legionName, innerDict);      //legions
                activities.Add(legionName, lastActivity);//activities
            }
            else
            {
                if (innerDict.ContainsKey(soldierType))
                {
                    innerDict[soldierType] = soldierCount;
                    Legions[legionName] = innerDict;
                }
                else
                {
                    innerDict[soldierType]
                    Legions[legionName]=()
                }
            }


        }






    }
}
